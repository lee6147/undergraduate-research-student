# 설명서

## 이 프로젝트는 뭔가?

VQC(Variational Quantum Classifier)와 QSVC(Quantum SVM)를 고전 머신러닝 모델(SVM, MLP, Random Forest)과 비교하는 양자 머신러닝 벤치마크 연구 프로젝트다. Iris, Wine, Breast Cancer 3개 데이터셋에서 7개 실험을 수행하고, 결과를 논문(LaTeX)으로 정리한다.

---

## 읽는 순서

### 1단계: 핵심 소스코드 (`src/`)

| 순서 | 파일 | 설명 |
|------|------|------|
| 1 | `src/data_loader.py` | 데이터 로딩, MinMax 스케일링([0,π]), PCA 차원축소, 층화 분할 |
| 2 | `src/vqc_model.py` | VQC 학습 — feature map(angle/zz), ansatz(RealAmplitudes/EfficientSU2), COBYLA/SPSA 옵티마이저 |
| 3 | `src/classical_models.py` | 고전 모델(SVM, MLP, RF) 학습 — 비교 기준선 |

### 2단계: 실험 스크립트

| 순서 | 파일 | 실험 내용 |
|------|------|----------|
| 4 | `run_experiments_final.py` | 실험 1~4 (모델비교, 데이터크기, 옵티마이저, 회로깊이) — 3시드 통계 |
| 5 | `run_experiment5_noise_final.py` | 실험 5: 양자 노이즈 영향 (탈분극 에러율별 정확도) |
| 6 | `run_experiment6_convergence.py` | 실험 6: 수렴 분석 (maxiter별 loss curve 추적) |
| 7 | `run_experiment7_qsvc.py` | 실험 7: QSVC 양자 커널 SVM |

### 3단계: 결과 확인

| 순서 | 파일 | 설명 |
|------|------|------|
| 8 | `results/` 폴더 | 7개 실험의 CSV 결과 파일 |
| 9 | `generate_figures.py` | CSV → 9개 논문용 그래프(PNG/PDF) 생성 |
| 10 | `figures/` 폴더 | 생성된 그래프 이미지 |

### 4단계: 논문

| 순서 | 파일 | 설명 |
|------|------|------|
| 11 | `paper.md` | 논문 마크다운 버전 (빠르게 읽기 좋음) |
| 12 | `paper.tex` | LaTeX 소스 (IEEE 형식, XeLaTeX+kotex) |
| 13 | `paper.pdf` | 빌드된 최종 논문 PDF |

### 5단계: 검증/테스트

| 순서 | 파일 | 설명 |
|------|------|------|
| 14 | `verify_tables.py` | CSV 수치 ↔ paper.tex 표 일치 검증 |
| 15 | `tests/` 폴더 | 8개 페이즈별 단위 테스트 |
| 16 | `run_tests_dispatch.py` | 전체 테스트를 페이즈별로 독립 실행 |

---

## 프로젝트 구조

```
vqc-benchmark/
├── src/                          # 핵심 소스코드
│   ├── data_loader.py            #   데이터 로딩/전처리
│   ├── vqc_model.py              #   VQC 양자 회로 모델
│   └── classical_models.py       #   고전 ML 비교 모델
│
├── run_experiments_final.py      # 실험 1~4 실행
├── run_experiment5_noise_final.py# 실험 5: 노이즈
├── run_experiment6_convergence.py# 실험 6: 수렴
├── run_experiment7_qsvc.py       # 실험 7: QSVC
│
├── results/                      # 실험 결과 CSV
│   ├── experiment1_model_comparison.csv
│   ├── experiment2_data_size.csv
│   ├── experiment3_optimizer.csv
│   ├── experiment4_circuit_depth.csv
│   ├── experiment5_noise.csv
│   ├── experiment6_convergence.csv
│   └── experiment7_qsvc.csv
│
├── generate_figures.py           # 그래프 생성 스크립트
├── figures/                      # 논문용 그래프 (9개 PNG+PDF)
│
├── paper.tex                     # 논문 LaTeX 소스
├── paper.md                      # 논문 마크다운 버전
├── paper.pdf                     # 최종 논문 PDF
│
├── verify_tables.py              # 표 수치 검증
├── tests/                        # 8개 페이즈 단위 테스트
├── run_tests_dispatch.py         # 테스트 독립 실행기
└── requirements.txt              # 의존성 목록
```

---

## 7개 실험 요약

| # | 실험 | 무엇을 비교? | 결과 행수 |
|---|------|-------------|----------|
| 1 | 모델 비교 | 7개 모델 × 3개 데이터셋 | 21행 |
| 2 | 데이터 크기 | 학습 데이터 비율 (20%~100%) | 20행 |
| 3 | 옵티마이저 | COBYLA vs SPSA | 2행 |
| 4 | 회로 깊이 | reps=1,2,3,4 | 4행 |
| 5 | 노이즈 | 탈분극 에러율 0~5% | 5행 |
| 6 | 수렴 | maxiter=200,500,1000 | 3행 |
| 7 | QSVC | 양자 커널 SVM (angle/zz) | 6행 |

총 183회 모델 학습 → 61행 집계 결과 (3시드 평균±표준편차)

---

## 데이터 흐름

```
데이터셋 (Iris, Wine, Breast Cancer)
        │
        ▼
  data_loader.py — 스케일링 [0,π], PCA, 층화분할
        │
        ▼
  실험 스크립트 — VQC / Classical / QSVC 학습
        │
        ▼
  results/*.csv — 정확도, F1, 학습시간
        │
        ▼
  generate_figures.py → figures/*.png
        │
        ▼
  paper.tex → xelatex → paper.pdf
```

---

## 주요 연구 결론

1. VQC는 소규모 데이터셋에서 고전 모델보다 성능이 낮다
2. QSVC(양자 커널)는 고전 SVM과 동등한 성능을 보인다
3. COBYLA 옵티마이저는 70~80회 함수 평가 후 수렴이 포화된다
4. NISQ 환경의 노이즈가 성능 저하의 주요 원인이다

---

## 빠르게 실행해보기

```bash
# 의존성 설치
pip install -r requirements.txt

# 단위 테스트 전체 실행
python run_tests_dispatch.py

# 특정 페이즈만 테스트
python run_tests_dispatch.py 3    # Phase 3: VQC Training

# 그래프 재생성
python generate_figures.py

# 표 수치 검증
python verify_tables.py
```
